<!DOCTYPE html>
<html>
<head>

<title>ArrayList与HashSet的Contains实现</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<script type="text/javascript" src="../../js/jquery-1.6.4.min.js"></script>

<link rel="Stylesheet" type="text/css" href="../../js/sh/styles/shCore.css">
<link rel="Stylesheet" type="text/css" href="../../js/sh/styles/shThemeRDark.css">
<script type="text/javascript" src="../../js/sh/scripts/shCore.js"></script>
<script type="text/javascript" src="../../js/sh/scripts/shAutoloader.js"></script>

<script type="text/javascript" src="../../js/main.js"></script>

<link rel="Stylesheet" type="text/css" href="../../style.css">
<link rel="Stylesheet" type="text/css" href="../../css/main.css">

</head>
<body>
	<div class="hidden">
		<input id="root_path" type="text" value="../../">
	</div>
	<div id="body-wrapper">
		<div id="container">
			<div id="top">
				<div id="page-title">
					<a href="../../index.html">烂笔头</a>
				</div>
				<ul id="top-nav">
				</ul>
			</div>
			<div id="middle">
				

<h1 id="toc_1">ArrayList与HashSet的Contains实现</h1>

<p>
日期: 2012-05-13 14:05
</p>

<div class="toc">
<ul>
<li><a href="#toc_1">ArrayList与HashSet的Contains实现</a>
<ul>
<li><a href="#toc_1.1">ArrayList的方法contains实现</a>
<li><a href="#toc_1.2">HashSet的contains方法实现</a>
</ul>
</ul>
</div>

<h2 id="toc_1.1">ArrayList的方法contains实现</h2>
<ol>
<li>
ArrayList的数据结构是一数组

<li>
contains就是遍历这个数组,然后调用equals方法,进行比较,有一个为true就返回true.

<li>
也就是说只要数组中有一个元素和参数equals为true,就为包含

</ol>

<h2 id="toc_1.2">HashSet的contains方法实现</h2>
<ol>
<li>
HashSet的数据结构是一个HashMap

<li>
Set中的元素作为Map的key存在的

<li>
利用了Map中key的唯一性,保证了Set中没有重复元素

<li>
但HashMap中如何确定key的唯一性的呢,

<ol>
<li>
看过源码就发现,并不是简单的根据equals来确定的,它有两个条件

<li>
首先secondaryHash(key.hashCode())相等

<li>
其次,equals返回true.

</ol>
</ol>
  
<p>
所以在java中,HashSet中如何确定一个元素已经包含了呢?
</p>
<ol>
<li>
首先经过HashMap中方法secondaryHash的验证

<li>
再经过equals方法的验证

</ol>

<pre  class="brush:c">
  //list 为一ArrayList
  Set set = new HashSet();
  set.addAll(list);
  
  list.contains(obj);  //为true
  set.constains(obj);  //不一定为true
</pre>

			</div>

			<div id="bottom">
				&copy; 2012 王兴朝
			</div>
		</div>
	<div>
</body>
</html>
