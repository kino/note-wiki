<!DOCTYPE html>
<html>
<head>

<title>perl程序结构</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<script type="text/javascript" src="../../js/jquery-1.6.4.min.js"></script>

<link rel="Stylesheet" type="text/css" href="../../js/sh/styles/shCore.css">
<link rel="Stylesheet" type="text/css" href="../../js/sh/styles/shThemeRDark.css">
<script type="text/javascript" src="../../js/sh/scripts/shCore.js"></script>
<script type="text/javascript" src="../../js/sh/scripts/shAutoloader.js"></script>

<script type="text/javascript" src="../../js/main.js"></script>

<link rel="Stylesheet" type="text/css" href="../../style.css">
<link rel="Stylesheet" type="text/css" href="../../css/main.css">

</head>
<body>
	<div class="hidden">
		<input id="root_path" type="text" value="../../">
	</div>
	<div id="body-wrapper">
		<div id="container">
			<div id="top">
				<div id="page-title">
					<a href="../../index.html">烂笔头</a>
				</div>
				<ul id="top-nav">
				</ul>
			</div>
			<div id="middle">
				
<h1 id="toc_1">perl程序结构</h1>
<p>
日期: 2012-06-04 16:06
<div class="toc">
<ul>
<li><a href="#toc_1">perl程序结构</a>
</ul>
</div>
</p>

<ol>
<li>
unless,和if相反的控制结构，条件为假时执行。

<li>
unless也有else。

<li>
until和while相反的结构，直到条件为真时才停止运行。

<li>
表达式后可以紧接控制修饰语。如，if 修饰语可以像if 块那样使用：
<pre  class="brush:perl">
    print “$n is a negative number.\n” if $n&lt;0;
    
    #类似的例子：
    &amp;error(“Invalid input”) unless &amp;valid($input);
    $i *= 2 unitl $i &gt; $j;
    print “”, ($n += 2) while $n &lt;10;
    &amp;greet($_) foreach @person;
</pre>

<li>
elsif 注意else的拼写，没有第二个e。

<li>
for结构
<pre  class="brush:perl">
    for(initialization; test; increment){
        body;
        body;
    }
</pre>

</ol>

<ol>
<li>
for中没有；号，则当作foreach
<pre  class="brush:perl">
    #实际上是foreach 循环,从１到１０
    for(1..10){ 
        print “I can count to $_!\n”;
    }
</pre>

<li>
last，类似于其他语言的break，用于结束循环。

<ul>
<li>
它作用于：for, foreach, while, until，以及“裸”块

</ul>
<li>
这可能是一个坏主意，但可以在子程序里面使用循环控制操作符控制子程序外面的循环。

<ul>
<li>
也就是说，如果在循环块内调用一个子程序，子程序内执行last 操作，同时子程序没有循环块，那么程序的流程会跳到主程序循环块的后面。

<li>
在将来的Perl 中，这种在子程序内的循环控制能力会被去掉，没有人会怀念它的。

</ul>
<li>
next，和其他语言的continue类似。

<li>
循环控制的第三个操作是redo。它会调到当前循环块的顶端，不进行条件表达式判断以及接着本次循环。
<pre  class="brush:perl">
    #输入测试
    my @words = qw{ fred barney pebbles dinoWilma betty };
    my $errors = 0;
    foreach(@words){
        ##redo 跳到这里##
        print “Type the word ‘$_’: ”;
        chomp(my $try = &lt;STDIN&gt;);
        if($try ne $_){
            print “sorry –That’s not right.\n\n”;
            $errors++;
            redo; #跳转到循环顶端
        }
    }
    print “You’ve completed the test, with $errors errors.\n”
</pre>

<li>
如果要从最内层的循环中跳出来，可以使用标签(label)。

<ul>
<li>
要给循环体加上标签，可在循环前面加上标签和冒号。

</ul>
<li>
&amp;&amp; || 短路操作的结果是最后被执行语句的返回值，而非仅仅是一个Boolean 值。
<pre  class="brush:perl">
    my $last_name = $last_name{$someone} ||‘(No last name)’;
</pre>

<li>
三元操作符，多个分支的编程技巧：
<pre  class="brush:perl">
    my $size =
    ($width &lt; 10 ) ? “small”:
    ($width &lt; 20) ? “medium”:
    ($width &lt; 50) ? “large”:
    “extra_large”; #default
</pre>

<li>
酷例：
<pre  class="brush:perl">
    ($m &lt; $n) &amp;&amp; ($m = $n);
    ($m &gt; 10) || print“why it it not greater?\n”
    ($m &lt; $n) ? ($m = $x) : ($n = $x);
    open CHAPTER, $filename
    or die “Can’t open‘$filename’:$!”;
</pre>

<li>
and 与or。这些单词操作符和符号操作符的含义相同

<ul>
<li>
但它们(单词操作符)在优先级的底端。

</ul>
</ol>

			</div>

			<div id="bottom">
				&copy; 2012 王兴朝
			</div>
		</div>
	<div>
</body>
</html>
