<!DOCTYPE html>
<html>
<head>

<title>Happens-Before</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<script type="text/javascript" src="../js/jquery-1.6.4.min.js"></script>

<link rel="Stylesheet" type="text/css" href="../js/sh/styles/shCore.css">
<link rel="Stylesheet" type="text/css" href="../js/sh/styles/shThemeRDark.css">
<script type="text/javascript" src="../js/sh/scripts/shCore.js"></script>
<script type="text/javascript" src="../js/sh/scripts/shAutoloader.js"></script>

<script type="text/javascript" src="../js/main.js"></script>
<script type="text/javascript" src="../js/ASCIIMathML.js"></script>

<link rel="Stylesheet" type="text/css" href="../style.css">
<link rel="Stylesheet" type="text/css" href="../css/main.css">

</head>
<body>
	<div class="hidden">
		<input id="root_path" type="text" value="../">
	</div>
	<div id="body-wrapper">
		<div id="container">
			<div id="top">
				<div id="page-title">
					<a href="../index.html">烂笔头</a>
				</div>
				<ul id="top-nav">
				</ul>
			</div>
			<div id="middle">
				
<h1 id="toc_1"> Happens-Before原则</h1>

<div class="toc">
<ul>
<li><a href="#toc_1"> Happens-Before原则</a>
</ul>
</div>

<ol>
<li>
单线程规则：同一个线程中的每个操作都happens-before于出现在其后的任何一个操作。

<li>
对一个监视器的解锁操作happens-before于每一个后续对同一个监视器的加锁操作。

<li>
对volatile字段的写入操作happens-before于每一个后续的对同一个volatile字段的读操作。

<li>
Thread.start()的调用操作会happens-before于启动线程里面的操作。

<li>
一个线程中的所有操作都happens-before于其他线程成功返回在该线程上的join()调用后的所有操作。

<li>
一个对象构造函数的结束操作happens-before与该对象的finalizer的开始操作。

<li>
传递性规则：如果A操作happens-before于B操作，而B操作happens-before与C操作，那么A动作happens-before于C操作。

</ol>

<p>
实际上这组happens-before规则定义了操作之间的内存可见性，如果A操作happens-before B操作，那么A操作的执行结果（比如对变量的写入）必定在执行B操作时可见。
</p>

			</div>

			<div id="bottom">
				&copy; 2012 王兴朝
			</div>
		</div>
	<div>
</body>
</html>
